<header class="header">
  <!-- SLIDING PANE TOGGLE -->
  <span class="header-toggle" ng-click="toggleSlider()">+</span>

  <!-- SLIDING PANE -->
  <div class="header-slider ng-cloak" id="header-slider" ng-class="{ active: showSlider }" ng-if="!isMobile" ng-cloak>
    <span class="header-slider-close">
      <i class="fa fa-close" ng-click="toggleSlider()"></i>
    </span>
    <span class="header-slider-message">{{ T.nav.message }}</span>
  </div>

  <div class="header-bar">
    <div class="header-logo">
      <a ui-sref="index" href='/{{locale}}'>
        <img src="../images/logo.png" alt="1ClickTrips logo">
        <span class="bold">1Click</span><span class="light">Trips</span>
      </a>
    </div>

    <nav class="header-navigation">
      <!-- MOBILE VIEW -->
      <div ng-if="isMobile" ng-cloak class="ng-cloak">
        <a ng-click="toggleMenu()" class="header-navigation-menu-toggle"><i class="fa fa-bars" ng-class="{'fa-bars': !showMenu, 'fa-close': showMenu }"></i></a>
        <ul ng-show="showMenu" class="header-navigation-menu">
          <li ng-if='!userProfile' class="header-navigation-menu-item"><a ng-click='createLoginModal(); toggleMenu()'>{{ T.nav.signin }}</a></li>
          <li ng-if='userProfile' class="header-navigation-menu-item"><a ng-click='openProfile(); toggleMenu()'>{{ T.nav.mobile.profile }}</a></li>
          <li ng-if='userProfile' class="header-navigation-menu-item"><a ng-click='logout(); toggleMenu()'>{{ T.nav.logout }}</a></li>
          <li class="header-navigation-menu-item"><a ng-click='toggleLanguages()'>{{ T.nav.mobile.language }}</a></li>
          <li ng-show="showLanguages">
            <ul class='header-navigation-menu-languages'>
              <li class="header-navigation-menu-sub-item" ng-repeat='language in languages' ng-click='changeLanguage(language.code)' ng-class='{active: appConfig.activeLanguageKey === language.code}'>
                {[ language.name ]}
              </li>
            </ul>
          </li>
          <li class="header-navigation-menu-item"><a ng-click='toggleCurrencies()'>{{ T.nav.mobile.currency }}</a></li>
          <li ng-show="showCurrencies">
            <ul class='header-navigation-menu-currencies'>
              <li class="header-navigation-menu-sub-item" ng-repeat='currency in currencies' ng-click='changeCurrency(currency.code)' ng-class='{active: appConfig.activeCurrency === currency.code.toLowerCase()}'>
                {[ currency.code ]}
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <!-- NON MOBILE VIEW -->
      <ul class="header-navigation-menu ng-cloak" ng-if="!isMobile" ng-cloak>
        <!-- LOGIN LINK -->
        <li ng-if="!userProfile" class="header-navigation-menu-item"><a ng-click='createLoginModal()' class="header-navigation-menu-login">{{ T.nav.signin }}</a></li>
        <li ng-if="!userProfile" class="header-navigation-menu-item"><a ng-click='createSignupModal()' class="header-navigation-menu-signup button">{{ T.nav.signup }}</a></li>

        <!-- PROFILE LINK -->
        <li ng-if="userProfile" ng-click="openProfile()" class="header-navigation-menu-item">
          <span ng-if="userProfile['image']" class="header-navigation-profile-image"><img ng-src="..{[ userProfile['image'] ]}" alt="user image" /></span>
          <span ng-if="!userProfile['image']" class="header-navigation-profile-image"><img ng-src="../images/avatar.svg" alt="user avatar" /></span>

          <span ng-if="userProfile['first_name']" class="header-navigation-profile-title">{[userProfile['first_name']]} {[userProfile['last_name']]}</span>
          <span ng-if="!userProfile['first_name'] && userProfile['email']" class="header-navigation-profile-title">{[userProfile['email']]}</span>
        </li>

        <li class="header-navigation-menu-item">
          <span class='header-navigation-menu-item-settings' ng-click="toggleCurrencies()">{[ activeCurrency.toUpperCase() ]}
            <ul class='currency-switch'>
              <li ng-repeat='currency in currencies' ng-click='changeCurrency(currency.code)' ng-class='{active: appConfig.activeCurrency === currency.code.toLowerCase()}'>
                {[ currency.code ]}
              </li>
            </ul>
          </span>
        </li>
        <li class="header-navigation-menu-item">
          <span class='header-navigation-menu-item-settings' ng-click="toggleLanguages()">{[ activeLanguageName ]}
            <ul class='language-switch'>
              <li ng-repeat='language in languages' ng-click='changeLanguage(language.code)' ng-class='{active: appConfig.activeLanguageKey === language.code}'>
                {[ language.name ]}
              </li>
            </ul>
          </span>
        </li>
      </ul>
    </nav>
  </div>
</header>
