
<div ng-controller='resultCtrl'>
  <section class="result-type wrapper">

    <!-- RESULT TYPE -->
    <div class="result-type-selection">
      <ul class="result-type-list">
        <li class="result-type-item" ng-class="{active: activeTrip == 0}" ng-click="findTripByBudget()">
          <div class="result-type-item-circle budget">
            <i class="fa fa-dollar"></i>
            <span class="result-type-item-active-indicator"></span>
          </div>
          Low Budget Trip
        </li>
        <li class="result-type-item" ng-class="{active: activeTrip == 1}" ng-click="findTripByTime()" ng-hide="itineraries.length<2">
          <div class="result-type-item-circle time">
            <i class="fa fa-clock-o"></i>
            <span class="result-type-item-active-indicator"></span>
          </div>
          Time Saving Trip
        </li>
        <li class="result-type-item" ng-class="{active: activeTrip == 2}" ng-click="findTripByComfort()" ng-hide="itineraries.length<3">
          <div class="result-type-item-circle comfort">
            <i class="fa fa-diamond"></i>
            <span class="result-type-item-active-indicator"></span>
          </div>
          Comfort Trip
        </li>
      </ul>
      <span class="result-type-back-button" ng-click="refineSearch()"><i class="fa fa-chevron-left"></i></span>
    </div>

    <!-- RESULT TYPE DESCRIPTION -->
    <div class="result-description" ng-class="{ folded: showList && isMobile }">
      <span class="result-description-favorite">
        <i class="fa fa-heart"></i>
        <span>+ Add to favorites</span>
      </span>
      <div ng-if="activeTrip == 0">
        <h1>Low Budget Trip</h1>
        <p>Text description</p>
      </div>
      <div ng-if="activeTrip == 1">
        <h1>Time Saving Trip</h1>
        <p>Text description</p>
      </div>
      <div ng-if="activeTrip == 2">
        <h1>Comfort Trip</h1>
        <p>Text description</p>
      </div>
    </div>
  </section>

  <section class="result wrapper">

    <!------------------------>
    <!-- NON-MOBILE VERSION -->
    <!------------------------>

    <div class="result-view view-container" ng-if="!isMobile">

      <!-- NOTIFICATION AREA -->
      <div class="result-notification" ng-if="notifications.length>0">
        <i class="fa fa-exclamation-triangle"></i>
        <span class="result-notification-message">{[ notifications[0].message ]}</span>
        <span class="result-notification-action">
          <i class="fa fa-check-circle-o" ng-click="acceptNotification()"></i>
          <i class="fa fa-times-circle-o" ng-click="deleteNotification()"></i>
        </span>
      </div>

      <!-- RESULT HEADER -->
      <div class="result-header">
        <span class="result-header-destination">Your destination</span>
        <h2 class="result-header-title"><i class="fa fa-map-marker"></i>{[itinerary.outbound.destination.description]}</h2>
        <a class='change-location-link' ng-click="refineSearch()">+ Change location & date</a>
        <div class='result-header-timing'>
          From <span class="trip-date">{[itinerary.startTime | date: "dd.MM.yyyy"]} to {[itinerary.endTime | date: "dd.MM.yyyy"]}</span>
        </div>
      </div>

      <!-- RESULT SUMMARY -->
      <div class="result-summary">
        <trip-summary itinerary="itinerary"></trip-summary>
      </div>

      <!-- RESULT MAP AND RESULT LIST -->
      <div class="result-overview ">
        <itinerary-map itinerary="itinerary" show-map="showMap" show-list="showList"></itinerary-map>
      </div>

      <!-- RESULT FOOTER -->
      <div class="result-footer">
        <div class="result-footer-summary">TRIP FOOTER SUMMARY</div>
        <div class="result-footer-action">
          <a href="#" class="button"><i class="fa fa-check-circle-o"></i>PURCHASE TRIP</a>
        </div>
      </div>
    </div>

    <!-------------------->
    <!-- MOBILE VERSION -->
    <!-------------------->

    <!-- MAP VIEW -->
    <div class="result-view view-container" ng-if="isMobile && showMap == true">

      <!-- NOTIFICATION AREA -->
      <div class="result-notification" ng-if="notifications.length>0">
        <i class="fa fa-exclamation-triangle"></i>
        <span class="result-notification-message">{[ notifications[0].message ]}</span>
        <span class="result-notification-action">
          <i class="fa fa-check-circle-o" ng-click="acceptNotification()"></i>
          <i class="fa fa-times-circle-o" ng-click="deleteNotification()"></i>
        </span>
      </div>

      <!-- RESULT HEADER -->
      <div class="result-header">
        <span class="result-header-destination">Your destination</span>
        <span class="result-header-timing">
          From <span class="trip-date">{[itinerary.startTime | date: "dd.MM.yyyy"]} to {[itinerary.endTime | date: "dd.MM.yyyy"]}</span>
        </span>
        <h2 class="result-header-title"><i class="fa fa-map-marker"></i>{[itinerary.outbound.destination.description]}</h2>
      </div>

      <div class="result-overview">

        <!-- RESULT SUMMARY -->
        <div class="result-summary-button">
          <div class="result-summary-button-details">
            <div class="result-summary-button-details-time">
              <span>Total Travel Time</span>
              <span>{[itinerary.duration | durationToTime:"%h hrs %m mins"]}</span>
            </div>
            <div class="result-summary-button-details-cost">
              <span>Total Cost</span>
              <span>{[itinerary.cost]}</span>
            </div>
          </div>
          <div class="result-summary-button-list-link" ng-click="showListView()">
            <i class="fa fa-angle-right"></i>
          </div>
        </div>

        <!-- RESULT MAP AND RESULT LIST -->
        <itinerary-map itinerary="itinerary" show-map="showMap" show-list="showList"></itinerary-map>
      </div>
    </div>

    <!-- LIST VIEW -->
    <div class="result-view view-container" ng-if="isMobile && showList == true">

      <!-- RESULT HEADER -->
      <div class="result-header result-header-table">
        <div class="result-header-col">
           <span class="result-header-back-link" ng-click="showMapView()">
          <i class="fa fa-angle-left"></i>
        </span>
        </div>
        <div class="result-header-col">
          <span class="result-header-destination">Your destination</span>
          <h2 class="result-header-title"><i class="fa fa-map-marker"></i>{[itinerary.outbound.destination.description]}</h2>
        </div>
      </div>

      <!-- RESULT SUMMARY -->
      <div class="result-summary">
        <trip-summary itinerary="itinerary"></trip-summary>
      </div>

      <!-- RESULT MAP AND RESULT LIST -->
      <itinerary-map itinerary="itinerary" show-map="showMap" show-list="showList"></itinerary-map>

      <!-- RESULT FOOTER -->
      <div class="result-footer">
        <div class="result-footer-action">
          <span class="result-footer-price">
            <span>Total Cost</span>
            <span>{[itinerary.cost]}</span>
          </span>
          <a class="button"><i class="fa fa-check-circle-o"></i>PURCHASE</a>
        </div>
      </div>
    </div>
  </section>
</div>
