<section class="result ng-cloak" ng-cloak ng-show='errorState !== null || timeOut === true'>
	<!-- error message -->
	<span class="result-details-error" ng-show="errorState !== null">
		{{ 'result.error' | translate }}:
		{{ errorState.message }}
	</span>
	<span class="result-details-error" ng-show="timeOut === true">
    {{ 'result.sessionexpire' | translate }}
  </span>
</section>

<section class="result-details ng-cloak" ng-cloak ng-show='itinerary !== null && false === (errorState !== null || timeOut === true)'>
	<div class="result-details-column">
		<h1 class="result-details-title">Search details</h1>

		<div class="result-details-location">
			<span class="result-details-location-start">{{ searchData['originDescription'] }}</span>
			<i class="fa fa-long-arrow-right"></i><span>{{ searchData['destinationDescription'] }}</span>
		</div>

		<div class="result-details-appointment">
			<i class="fa fa-calendar"></i><span class="result-details-appointment-title">Appointment time</span>
			<span class="result-details-appointment-time">{{ timing['value'] | dateFormatter : itinerary['destination']['timeZone'] : null : "long" }}</span>
		</div>
	</div>

	<div class="result-map result-details-column">
		<result-map
			itinerary="itinerary"
			toggle-map="addToggleMapHandler">
		</result-map>
	</div>
</section>

<section class="result-details ng-cloak" ng-cloak ng-show='itinerary !== null && false === (errorState !== null || timeOut === true)'>
	<h1 class="result-details-title">{{ 'result.details.title' | translate }}</h1>

	<span class="result-details-info">
		<span class="result-details-price">
			{{ itinerary['price'].toFixed(2) }}
			<i class="fa {{ itinerary['currency'] | currencyFormatter }}"></i>
		</span>
		<span class="result-details-duration">
			{{ itinerary['duration'] | durationFormatter : 'full' }}
		</span>
	</span>

	<span class="result-details-timing">
		<span>
			<span class="fa fa-home"></span><span>{{ itinerary['departureTime'] | dateFormatter : itinerary['origin']['timeZone'] : null : "long" }}</span>
		</span>
		<span>
			<span class="fa fa-flag-checkered"></span><span>{{ itinerary['arrivalTime'] | dateFormatter : itinerary['destination']['timeZone'] : null : "long" }}</span>
		</span>
	</span>

	<div class="result-details-timeline">
		<timeline
			itineraries="[itinerary]"
			itinerary-index="{{ 0 }}"
			timing="timing"
			show-details="{{ true }}"
			get-alternative-index="0"
			get-timing-index="0">
		</timeline>
	</div>

	<div class="result-details-action">
		<a ng-click="goToOverview()" class="button--light">{{ 'result.details.back' | translate }}</a>
		<a ng-click="booking(searchData, itinerary)" class="button">{{ 'result.details.travelplan' | translate }}</a>
	</div>
</section>
