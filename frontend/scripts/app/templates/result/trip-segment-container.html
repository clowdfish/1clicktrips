<div>
  <ul class="result-list" ng-if="itineraries">
    <li class="result-list-item-container"
        ng-repeat="itinerary in itineraries"
        ng-init="itineraryIndex = $index">

      <span class="result-list-item-price" ng-if="!showDetails">
        <span>{{ itinerary['price'].toFixed(2) }}</span>
        <i class="fa {{ itinerary['currency'] | currencyFormatter }}"></i>
        <a ng-click="selectTrip(itineraryIndex)"
           class="button">Select</a>
      </span>

       <span class="result-list-item-start"
             ng-class="{ focus: !timing['targetDate'] }"></span>
      <span class="result-list-item" ng-class="{ 'full-width': showDetails }">
        <span class="result-list-item-line"></span>

        <span ng-repeat="container in itineraries[itineraryIndex]['segmentsContainer']"
              ng-init="containerIndex = $index">

          <!-- do not show minor segments and no major walking segments -->
          <span ng-repeat="segment in container['alternatives'][getAlternativeIndex(itineraryIndex, containerIndex)]"
                ng-if="segment['departureTime'] && (!showDetails && segment['isMajor'] || showDetails)"
                ng-init="segmentIndex = $index">

            <trip-segment
              segment="segment"
              ratio="{{ dimensions.ratio }}"
              show-details="{{ showDetails }}"
              set-dimensions="setDimensions(data)"
              define-left-margin="defineMarginLeft(time)"
              select-alternative="selectAlternative(itineraryIndex, containerIndex, segmentIndex, alternativeIndex, timingIndex)"></trip-segment>
          </span>
        </span>
      </span>
      <span class="result-list-item-end"
            ng-class="{ focus: timing['targetDate'] }"></span>
    </li>
  </ul>
</div>